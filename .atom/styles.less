/*
 * Your Stylesheet
 *
 * This stylesheet is loaded when Atom starts up and is reloaded automatically
 * when it is changed and saved.
 *
 * Add your own CSS or Less to fully customize Atom.
 * If you are unfamiliar with Less, you can read more about it here:
 * http://lesscss.org
 */

// style the background and foreground colors on the atom-text-editor-element itself
atom-text-editor {
  background-color: hsl(216, 30%, 12%);
}


@linecolor: rgb(50, 50, 50);
// line focused
atom-text-editor .line.cursor-line,
atom-text-editor.is-focused .line.cursor-line {
    background-color: @linecolor;

    &>.syntax--source {
      background-color: black;

      .leading-whitespace {
        background-color: @linecolor;
      }
    }
}

atom-text-editor.editor {
  // Comments get a different font,. but stay aligned
  // .syntax--comment {
  //   color: #777 !important;
  //
  //   &:not(.syntax--punctuation) {
  //     font-family: 'NovaMono', monospace !important;
  //   }
  // }
  .line-number.cursor-line {
    // background-color: @linecolor;
    color: #ccc;
  }

  // highlight fix

  // .quick-highlight.box-selection .region {
  //   background-color: transparent;
  //   border-width: 1px;
  //   border-color: yellow;
  //
  //   // above a comment background
  //   z-index: 1;
  // }
  //
  // .minimap .mini-quick-hl.box-selection {
  //   background-color: yellow;
  // }

  .quick-highlight .region {
    // above a comment background
    z-index: 1;
  }

}

// la branche git ressort un peu du reste en bleu
.github-branch {
  color: #77f;
}
.tab.active {
  background: #66d !important;
}

// BIGGER Vim mode indication
.status-bar-vim-mode-plus-normal,
.status-bar-vim-mode-plus-insert,
.status-bar-vim-mode-plus-visual,
.status-bar-vim-mode-plus-operator-pending {
  text-align: center;
  font-size: 1.5em;
  width: 2rem;
}

// minimap
// atom-text-editor atom-text-editor-minimap .minimap-visible-area::after {
//   background-color: rgba(80, 80, 80, 0.7);
// }

// linter and tree-view
.tree-view {
  .linter-error,
  .linter-warning {
    top: 0;
    left: -1.9rem;
    width: 1.2rem;
    height: 100%;
    position: absolute;
    background: red;
    border: none;
    border-radius: 50%;
  }

  .linter-warning {
    background: yellow;
  }
}

// .tool-panel .syntax--text {
//   color: black;
// }

// Vim cursor
.cursor-base () {
  border: none;
  background: none;
  opacity: 1;
}

.block-cursor(@bgcolor) {
  .cursor-base();
  background-color: @bgcolor;
  border-bottom: .2em solid white;
}
.underline-cursor(@visibility) {
  .cursor-base();
  border-bottom: .3em solid white;
  visibility: @visibility;
}
atom-text-editor.vim-mode-plus {
  &.normal-mode,.visual-mode {
    &.is-focused {
      .cursor {
        .block-cursor(rgba(255,255,255,.4));
      }
      .cursors.blink-off .cursor {
        .block-cursor(inherit);
      }
    }
  }

  &.insert-mode.replace {
    &.is-focused {
      .cursor {
        .underline-cursor(visible);
      }
      .cursors.blink-off .cursor {
        .underline-cursor(hidden);
      }
    }
  }
}
// Vim search/star highlight
atom-text-editor .vim-mode-plus-highlight-search .region {
    border-radius: 0;
    border: 1px solid rgb(192, 82, 244);
    background-color: inherit;
    z-index: 1;
}
